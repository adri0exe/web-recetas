<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin Recetas</title>
  </head>

  <body>
    <div id="nc-root"></div>

    <script>
      // Cargar scripts SOLO cuando el DOM ya existe
      window.addEventListener("DOMContentLoaded", function () {
        // Asegura que el root existe sí o sí
        if (!document.getElementById("nc-root")) {
          const root = document.createElement("div");
          root.id = "nc-root";
          document.body.appendChild(root);
        }

        // 1) Netlify Identity
        const idScript = document.createElement("script");
        idScript.src = "https://identity.netlify.com/v1/netlify-identity-widget.js";
        idScript.onload = function () {
          // 2) Decap CMS
          const cmsScript = document.createElement("script");
          cmsScript.src = "https://unpkg.com/decap-cms@3.9.0/dist/decap-cms.js";
          document.body.appendChild(cmsScript);
        };
        document.body.appendChild(idScript);
      });
    </script>
  </body>
</html>
